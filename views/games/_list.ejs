<div class="card p-0 text-white">
  <section class="p-1">
  <h1>Games for <%= platform.name %> (<%= games.length %> games)</h1>
</section>
</div>
<div style="overflow-y: auto; max-height: 80vh;">
  <div class="card p-1 text-white">
  <section>
<table style="width:100%; table-layout: fixed;">
  <col style="width:60%">
	<col style="width:20%">
	<col style="width:10%">
	<col style="width:10%">
  <thead>
    <tr>
      <th style="text-align:center">Name</th>
      <th style="text-align:center">Copies Owned</th>
      <th style="text-align:center">Wishlist</th>
      <th style="text-align:center">Do Not Want</th>
    </tr>
  </thead>
  <tbody>
    <% games.forEach(game=> { %>
      <tr style="border-bottom: 1px solid aqua;">
        <td style="width: 75%">
          <%= game.name %>
        </td>
        <td>
          <% if (user && user.games_owned && user.games_owned[platform.id] && user.games_owned[platform.id].includes(game.id)) { %>
            <%= user.games_owned[platform.id].filter(id => id === game.id).length %> owned  <button onclick="addToCollection(<%= user.id %>, <%= game.id %>, <%= platform.id %>);">+1</button>
          <% } else { %>
            <% if (user) { %>
              <button onclick="addToCollection(<%= user.id %>, <%= game.id %>, <%= platform.id %>);">Add to Collection</button>
            <% } else { %>
              <!-- User not logged in, handle accordingly -->
            <% } %>
          <% } %>
        </td>
        <td><input type="checkbox" <%=user && user.games_wishlist && user.games_wishlist.includes(game.id) ? 'checked'
            : '' %> ></td>
        <td></td> <!-- Placeholder for "Do Not Want" column -->
      </tr>
      <% }); %>
  </tbody>
</table>
</section>
</div></div>